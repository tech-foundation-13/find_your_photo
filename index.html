<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Student Information Form (Modern)</title>
  <style>
    :root{
      --bg: #ffffff;
      --panel: #f7f9fb;
      --muted: #3c4650;
      --accent: #228be6;
      --border: #e6e9ee;
      font-family: "Segoe UI", system-ui, -apple-system, "Roboto", "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{
      height:100%;
      margin:0;
      background: url("https://images.unsplash.com/photo-1503676260728-1c00da094a0b?auto=format&fit=crop&w=1470&q=80") no-repeat center center fixed;
      background-size: cover;
      color:var(--muted);
    }

    /* Overlay for readability */
    body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(255,255,255,0.85);
      z-index: -1;
    }

    .container{
      max-width:760px;
      margin:32px auto;
      padding:20px;
      background:var(--panel);
      border-radius:12px;
      box-shadow:0 8px 30px rgba(34,50,80,0.06);
      border:1px solid var(--border);
    }

    h1{margin:0 0 16px;font-size:20px;color:#2d3e50}
    form{display:grid;grid-template-columns:1fr 1fr;gap:12px 20px;align-items:center}
    label{font-size:14px}
    select,input[type=text],button{font-size:14px;padding:10px 12px;border-radius:8px;border:1px solid var(--border);background:white}
    input[type=text]{height:36px}
    select{height:38px}
    .full{grid-column:1 / -1}
    .radio-row{display:flex;gap:12px;align-items:center}
    .small{width:160px}
    .wide{min-width:300px}
    .hidden{display:none}
    .btn-primary{background:var(--accent);color:white;border:none;padding:10px 18px;border-radius:10px;cursor:pointer}
    .btn-primary:active{transform:translateY(1px)}
    .note{font-size:13px;color:#6b7785}
    @media (max-width:720px){
      form{grid-template-columns:1fr}
      .small{width:100%}
      .wide{min-width:unset}
    }

    /* Popup styles with smooth fade animation */
    .popup {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease, visibility 0.4s ease;
    }
    .popup.active {
      opacity: 1;
      visibility: visible;
    }
    .popup-content {
      background: white;
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      text-align: center;
      max-width: 320px;
    }
    .popup-content button {
      margin-top: 15px;
      background: var(--accent);
      color: white;
      border: none;
      padding: 8px 14px;
      border-radius: 8px;
      cursor: pointer;
    }
    .popup img {
      width: 200px;
      border-radius: 10px;
      margin-top: 10px;
    }

    /* Progress bar styles */
    .progress-bar {
      width: 100%;
      height: 10px;
      background: #e0e0e0;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 10px;
    }
    .progress {
      height: 100%;
      width: 0%;
      background: #28a745;
      border-radius: 5px;
      transition: width 5s linear;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Fill Your Information</h1>

    <!-- form content remains the same -->
    <!-- (everything below unchanged) -->

    <form id="studentForm" novalidate>
      <label for="type">Are you a School or College student:</label>
      <select id="type" required>
        <option value="">Select</option>
        <option>School</option>
        <option>College</option>
      </select>

      <label for="state">State / Union Territory:</label>
      <select id="state" required>
        <option value="">Select State / UT</option>
        <option>Andhra Pradesh</option>
        <option>Arunachal Pradesh</option>
        <option>Assam</option>
        <option>Bihar</option>
        <option>Chhattisgarh</option>
        <option>Goa</option>
        <option>Gujarat</option>
        <option>Haryana</option>
        <option>Himachal Pradesh</option>
        <option>Jharkhand</option>
        <option>Karnataka</option>
        <option>Kerala</option>
        <option>Madhya Pradesh</option>
        <option>Maharashtra</option>
        <option>Manipur</option>
        <option>Meghalaya</option>
        <option>Mizoram</option>
        <option>Nagaland</option>
        <option>Odisha</option>
        <option>Punjab</option>
        <option>Rajasthan</option>
        <option>Sikkim</option>
        <option>Tamil Nadu</option>
        <option>Telangana</option>
        <option>Tripura</option>
        <option>Uttar Pradesh</option>
        <option>Uttarakhand</option>
        <option>West Bengal</option>
        <option>Andaman and Nicobar Islands</option>
        <option>Chandigarh</option>
        <option>Dadra and Nagar Haveli and Daman and Diu</option>
        <option>Delhi</option>
        <option>Jammu and Kashmir</option>
        <option>Ladakh</option>
        <option>Lakshadweep</option>
        <option>Puducherry</option>
      </select>

      <label for="district">District:</label>
      <input id="district" type="text" placeholder="Enter district" class="wide" required />

      <div id="collegePanel" class="full hidden">
        <label for="college">College Name:</label>
        <input id="college" type="text" placeholder="Enter college name" class="wide" />
      </div>

      <div id="schoolPanel" class="full hidden">
        <label for="school">School Name:</label>
        <input id="school" type="text" placeholder="Enter school name" class="wide" />
      </div>

      <label>Are you currently studying:</label>
      <div class="radio-row">
        <label><input type="radio" name="studying" value="yes"> Yes</label>
        <label><input type="radio" name="studying" value="no"> No</label>
      </div>

      <div id="studyingYesPanel" class="full hidden">
        <label for="semester">Semester (College):</label>
        <select id="semester"><option value="">Select Semester</option></select>

        <label for="branch">Branch (College):</label>
        <select id="branch">
          <option value="">Select Branch</option>
          <option>Computer Science Engineering</option>
          <option>Information Technology</option>
          <option>Electronics and Communication Engineering</option>
          <option>Electrical and Electronics Engineering</option>
          <option>Mechanical Engineering</option>
          <option>Civil Engineering</option>
        </select>

        <label for="class">Class (School):</label>
        <select id="class"><option value="">Select Class</option></select>

        <label for="stream">Stream (if class > 10):</label>
        <select id="stream">
          <option value="">Select Stream</option>
          <option>Biomaths</option>
          <option>Commerce</option>
          <option>Computer Science</option>
          <option>Arts</option>
        </select>
      </div>

      <div id="studyingNoPanel" class="full hidden">
        <label for="passYear">Passed Out Year:</label>
        <input id="passYear" type="text" placeholder="e.g. 2022" class="wide" />

        <div id="branchNoPanel" class="hidden">
          <label for="branchNo">Branch (College):</label>
          <select id="branchNo">
            <option value="">Select Branch</option>
            <option>Computer Science Engineering</option>
            <option>Information Technology</option>
          </select>
        </div>

        <div id="streamNoPanel" class="hidden">
          <label for="streamNo">Stream (if school):</label>
          <select id="streamNo">
            <option value="">Select Stream</option>
            <option>Biomaths</option>
            <option>Commerce</option>
            <option>Arts</option>
          </select>
        </div>
      </div>

      <label for="name">Full Name:</label>
      <input id="name" type="text" placeholder="Enter full name" required />

      <label for="reg">Register Number:</label>
      <input id="reg" type="text" placeholder="Enter register number" required />

      <div class="full" style="text-align:center;margin-top:8px">
        <button type="submit" class="btn-primary">Submit</button>
      </div>
    </form>

    <p class="note">This page is designed to find your photo from your collage or school life.</p>
    <p class="note">‚ö†Ô∏è Your photo will only show if it is available.</p>
  </div>

  <!-- Popups remain unchanged -->
  <div id="popup0" class="popup active">
    <div class="popup-content">
      <p>This is a page that helps you find your old school or college photos.<br><br>
      Your photo will be available here only if it is available in the database of any school or college.</p>
      <button id="okBtn">OK</button>
    </div>
  </div>

  <div id="popup1" class="popup">
    <div class="popup-content">
      <p>üîç Finding your photo, please wait...</p>
      <div class="progress-bar"><div class="progress"></div></div>
    </div>
  </div>

  <div id="popup2" class="popup">
    <div class="popup-content">
      <p>üì∏ We found a photo of you!</p>
      <button id="showPhotoBtn">Show Photo</button><br>
      <img id="foundPhoto" class="hidden" src="your-photo.jpg" alt="Your photo" />
      <p id="photoText" class="hidden"></p>
      <button id="closeBtn" class="hidden">Close</button>
    </div>
  </div>

  <script>
    const semester=document.getElementById('semester');
    const classSel=document.getElementById('class');
    for(let i=1;i<=8;i++){const o=document.createElement('option');o.value=i;o.textContent=i;semester.appendChild(o);}
    for(let i=1;i<=12;i++){const o=document.createElement('option');o.value=i;o.textContent=i;classSel.appendChild(o);}
    const type=document.getElementById('type');
    const collegePanel=document.getElementById('collegePanel');
    const schoolPanel=document.getElementById('schoolPanel');
    const studyingYesPanel=document.getElementById('studyingYesPanel');
    const studyingNoPanel=document.getElementById('studyingNoPanel');
    const studyingRadios=document.getElementsByName('studying');
    const stream=document.getElementById('stream');
    const branch=document.getElementById('branch');
    const branchNoPanel=document.getElementById('branchNoPanel');
    const streamNoPanel=document.getElementById('streamNoPanel');
    function show(el,val){el.classList.toggle('hidden',!val);}
    function refreshPanels(){
      const t=type.value;
      const isCollege=t.toLowerCase()==='college';
      const isSchool=t.toLowerCase()==='school';
      show(collegePanel,isCollege);
      show(schoolPanel,isSchool);
      const studying=Array.from(studyingRadios).find(r=>r.checked)?.value;
      show(studyingYesPanel,studying==='yes');
      show(studyingNoPanel,studying==='no');
      if(studying==='no'){
        show(branchNoPanel,isCollege);
        show(streamNoPanel,isSchool);
      } else {
        show(branchNoPanel,false);
        show(streamNoPanel,false);
      }
      if(studying==='yes'){
        if(isCollege){
          semester.disabled=false;branch.disabled=false;classSel.disabled=true;stream.disabled=true;
        } else if(isSchool){
          semester.disabled=true;branch.disabled=true;classSel.disabled=false;
        }
      }
    }
    type.addEventListener('change',refreshPanels);
    Array.from(studyingRadios).forEach(r=>r.addEventListener('change',refreshPanels));
    classSel.addEventListener('change',()=>{
      const val=parseInt(classSel.value||'0',10);
      stream.disabled=!(val>10);
      if(!(val>10))stream.value='';
    });
    refreshPanels();

    const popup0=document.getElementById('popup0');
    const okBtn=document.getElementById('okBtn');
    const popup1=document.getElementById('popup1');
    const popup2=document.getElementById('popup2');
    const foundPhoto=document.getElementById('foundPhoto');
    const showPhotoBtn=document.getElementById('showPhotoBtn');
    const photoText=document.getElementById('photoText');
    const closeBtn=document.getElementById('closeBtn');

    okBtn.addEventListener("click",()=>{ popup0.classList.remove('active'); });

    document.getElementById("studentForm").addEventListener("submit",function(e){
      const requiredFields=this.querySelectorAll("select[required], input[required]");
      for(const field of requiredFields){
        if(!field.value.trim()){
          alert("Please fill all required fields before submitting.");
          e.preventDefault();
          return;
        }
      }
      e.preventDefault();

      popup1.classList.add('active');
      const progress = popup1.querySelector('.progress');
      progress.style.width = '0%';
      setTimeout(()=>{ progress.style.width = '100%'; }, 100);
      setTimeout(()=>{
        popup1.classList.remove('active');
        popup2.classList.add('active');
      },5000);
    });

    showPhotoBtn.addEventListener("click",()=>{
      foundPhoto.classList.remove("hidden");
      photoText.classList.remove("hidden");
      closeBtn.classList.remove("hidden");
      const fullName=document.getElementById("name").value;
      photoText.textContent=fullName;
      foundPhoto.src="https://throughatoonerdarkly.wordpress.com/wp-content/uploads/2014/08/image.jpg?w=768&h=1152";
    });

    closeBtn.addEventListener("click",()=>{
      popup2.classList.remove("active");
      foundPhoto.classList.add("hidden");
      photoText.classList.add("hidden");
      closeBtn.classList.add("hidden");
      document.getElementById("studentForm").reset();
      refreshPanels();
    });
  </script>
</body>
</html>
